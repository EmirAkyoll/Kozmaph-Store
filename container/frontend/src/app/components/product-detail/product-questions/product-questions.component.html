<div class="container font-Ubuntu border-round-top-2xl mt-7">
    <p class="text-lg sm:text-xl md:text-3xl">Questions and Answers</p>
    <div 
        class="flex flex-column border-1 border-gray-400 border-round-top-md justify-content-between align-items-center p-3 md:flex-row"
        style="background-color: #f7f7f7;"
    >
        <div class="flex align-items-center">
            <img src={{questionsData.image_urls[0]}}
                alt="" style="width: 30px; height: 50px;">
            <span class="mx-4">{{questionsData.seller}}</span>
            <span>{{questionsData.product_name}}</span>
        </div>
        <div class="">
              <p-button 
                label="Ask to Seller" 
                (click)="showModal()"
                icon="pi pi-question" 
                iconPos="right" 
                styleClass="p-button-info p-button-outlined h-3rem border-round-md text-lg w-full ml-0"
            ></p-button>
            <div 
                *ngIf="isQuestionModalVisible" 
                style="width: 15vw; margin-left: 42%;"
                class="fixed top-0 left-0 h-full flex justify-content-center align-items-center z-5 text-Ubuntu" 
            >
                <div class="bg-white p-2 px-4 z-5 border-round-sm">
                  <p class="font-bold text-lg">Ask to Seller</p>
                  <p-divider></p-divider>
                  <p>{{questionsData.seller}}</p>
                  <p-divider></p-divider>
                  <p>You can ask the seller about malfunctions related to product features here.</p>
                  <span class="p-float-label mt-4">
                      <textarea [(ngModel)]="question_text" id="float-input" rows="5" cols="30" pInputTextarea></textarea>
                      <label for="float-input">Question</label>
                  </span>
                  <p-divider></p-divider>

                  <p-button 
                        (click)="addQuestionOrAnswer(questionsData.product_id, {question_text, answer})" 
                        label="Send" 
                        styleClass="my-3 w-full p-button-info"
                  ></p-button>
                </div>
            <div 
                class="fixed top-0 left-0 w-full h-full z-4" 
                style="background-color: #00000080;" 
                (click)="closeModal()"
            ></div>
        </div>
        </div>
    </div>

    <div class="card border-1 border-top-none border-gray-400 border-round-bottom-md">
        <p-dataView #dv [value]="questions" [rows]="2" [paginator]="true">
            <ng-template let-question pTemplate="listItem">
                <div class="col-12">
                    <div class="p-4">
                        <div>
                            <div class="mb-2"><b>Question:</b> {{question?.question_text}}</div>
                            <div class="opacity-50 text-sm">Question | asking_date</div>
                        </div>
                        <div class="mt-3 ml-5">
                            <div class="mb-2"><b>Answer:</b> {{question?.answer}}</div>
                            <div class="opacity-50 text-sm">Answer | answering_date</div>
                        </div>
                    </div>
                </div>
            </ng-template>
        </p-dataView>
    </div>
</div>